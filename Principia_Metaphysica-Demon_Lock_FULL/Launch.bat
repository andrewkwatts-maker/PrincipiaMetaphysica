@echo off
REM ============================================================
REM   PRINCIPIA METAPHYSICA - Launch Script
REM ============================================================
REM Copyright (c) 2025-2026 Andrew Keith Watts
REM
REM This script:
REM   1. Runs all simulations to generate/update AutoGenerated files
REM   2. Starts a local web server with CORS support
REM   3. Opens the website in your default browser
REM
REM Prerequisites:
REM   - Python 3.8+
REM   - NumPy (pip install numpy)

echo ============================================================
echo   PRINCIPIA METAPHYSICA - Launch
echo ============================================================
echo.

REM Check if Python is available
python --version >nul 2>&1
if %errorlevel% neq 0 (
    echo ERROR: Python not found. Please install Python 3.8+
    echo Download from: https://www.python.org/downloads/
    echo.
    pause
    exit /b 1
)

REM Run simulations if run_all_simulations.py exists
if exist run_all_simulations.py (
    echo [1/2] Running simulations to generate data files...
    echo.
    python run_all_simulations.py
    if %errorlevel% neq 0 (
        echo.
        echo WARNING: Simulations had errors. Website may have missing data.
        echo.
    ) else (
        echo.
        echo Simulations completed successfully.
        echo.
    )
) else (
    echo [1/2] Simulations not included - using pre-generated data files.
    echo.
)

echo [2/2] Starting local web server...
echo.
echo The website will open automatically in your browser.
echo Press Ctrl+C to stop the server.
echo.

python serve.py
