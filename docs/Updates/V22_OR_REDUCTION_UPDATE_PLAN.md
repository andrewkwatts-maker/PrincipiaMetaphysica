# v22 OR Reduction & Dimensional Architecture Update Plan

**Date:** 2026-01-19
**Version:** 22.1
**Status:** IN PROGRESS

---

## v22 Canonical Dimensional Architecture

```
25D(24,1) = 12×(2,0) bridge pairs + (0,1) shared time
     ↓ coordinate selection via R_perp
2×13D(12,1) shadows (each: 12 spatial from bridge + 1 shared time)
     ↓ G₂ compactification
2×4D(3,1) → R_perp → 4D(3,1) observable
```

### Key Corrections
| OLD (Wrong) | NEW (Correct) |
|-------------|---------------|
| "2×13D(12,1) + (2,0)" | "12×(2,0) + (0,1) → 2×13D(12,1)" |
| "shadows + bridge" | "bridge WARPS to create shadows" |
| "(11,1)" per shadow | "(12,1)" per shadow (12 spatial + 1 shared time) |
| "dual (11,1) shadows" | "dual 13D(12,1) shadows" |
| "26D(24,1)" bulk | "25D(24,1)" bulk |

### OR Reduction via R_perp
- **R_perp² = -I** (Möbius property)
- **Coordinate Selection**: Each (x_i, y_i) → x_i to Normal, y_i to Mirror
- **Result**: 12 spatial per shadow + 1 shared time = 13D(12,1)

---

## Files Requiring Updates

### Priority 1: Core Source Files (Generate AutoGenerated)

| File | Status | Issues Found |
|------|--------|--------------|
| `config.py` | ✓ DONE | Shadow signature updated to (12,1) |
| `core/FormulasRegistry.py` | ✓ DONE | Bridge architecture corrected |
| `simulations/validation/symplectic_descent_validator_v16_2.py` | ✓ DONE | OR reduction formula fixed |
| `simulations/v21/appendices/appendix_f_v16_0.py` | ✓ DONE | Complete v22 rewrite |
| `simulations/v21/pneuma/pneuma_mechanism_v16_0.py` | ✓ DONE | (11,1)→(12,1) |
| `simulations/v21/introduction/introduction_v16_0.py` | ✓ DONE | (11,1)→(12,1) |
| `simulations/v21/cosmology/cosmology_intro_v16_0.py` | ✓ DONE | Bridge warp |
| `simulations/v21/descent/merged_descent_v21.py` | ✓ DONE | Descent chain |

### Priority 2: User-Facing Pages (HTML)

| File | Status | Issues Found |
|------|--------|--------------|
| `index.html` | ✓ DONE | Main descriptions updated |
| `Pages/beginners-guide.html` | NEEDS REVIEW | May have (11,1) refs |
| `Pages/philosophical-implications.html` | NEEDS REVIEW | May have (11,1) refs |
| `Pages/visualization-index.html` | NEEDS REVIEW | Diagram captions |
| `Pages/appendices.html` | NEEDS REVIEW | Appendix summaries |
| `Pages/parameters.html` | NEEDS REVIEW | Parameter definitions |
| `Pages/faq.html` | NEEDS REVIEW | FAQ answers |

### Priority 3: Documentation

| File | Status | Issues Found |
|------|--------|--------------|
| `README.md` | NEEDS REVIEW | Theory overview |
| `docs/appendices/appendix_g_euclidean_bridge.md` | NEEDS REVIEW | Bridge mechanism |
| `docs/appendices/appendix_chi_eff_architecture.md` | NEEDS REVIEW | Chi_eff structure |
| `docs/MASTER_ACTION_DERIVATION_CHECKLIST.md` | NEEDS REVIEW | Derivation chain |

### Priority 4: Other Simulation Files

| File | Status | Issues Found |
|------|--------|--------------|
| `simulations/v21/sampling/or_reduction_v21.py` | NEEDS REVIEW | OR operator |
| `simulations/v21/foundations/foundations_v16_2.py` | NEEDS REVIEW | Foundational |
| `simulations/v21/thermal/thermal_time_v16_0.py` | NEEDS REVIEW | Time structure |
| `simulations/v21/discussion/discussion_v16_0.py` | NEEDS REVIEW | Discussion |
| `simulations/v21/neutrino/neutrino_mixing_v16_0.py` | NEEDS REVIEW | Neutrino |
| `simulations/v21/master_action/*.py` | NEEDS REVIEW | Master action |
| `simulations/derivations/*.py` | NEEDS REVIEW | Derivations |

### Priority 5: AutoGenerated Files (Will regenerate)

| File | Status | Notes |
|------|--------|-------|
| `AutoGenerated/formulas.json` | AUTO | Regenerate after source fixes |
| `AutoGenerated/sections.json` | AUTO | Regenerate after source fixes |
| `AutoGenerated/theory_output.json` | AUTO | Regenerate after source fixes |
| `AutoGenerated/beginner-guide.json` | AUTO | Regenerate after source fixes |
| `AutoGenerated/parameters.json` | AUTO | Regenerate after source fixes |

---

## Search Patterns for Legacy References

```bash
# (11,1) shadow references
grep -r "\(11,1\)" --include="*.py" --include="*.html" --include="*.md"

# (11,0) references
grep -r "\(11,0\)" --include="*.py" --include="*.html" --include="*.md"

# Wrong "shadows + bridge" pattern
grep -r "shadows.*\(2,0\)" --include="*.py"
grep -r "2x13D.*\+.*\(2,0\)" --include="*.py"

# 26D references (should be 25D)
grep -r "26D.*\(24,1\)" --include="*.py"
```

---

## Replacement Patterns

### Pattern 1: Shadow Signature
- FIND: `(11,1)` in shadow context
- REPLACE: `(12,1)` with note "12 spatial + 1 shared time = 13D"

### Pattern 2: Bridge + Shadows
- FIND: `2×13D(12,1) + (2,0)` or `dual shadows + bridge`
- REPLACE: `12×(2,0) + (0,1) → 2×13D(12,1)` with note "bridge WARPS to create shadows"

### Pattern 3: OR Reduction Formula
- FIND: `(24,1) → 2×(11,1) + (2,0)`
- REPLACE: `25D(24,1) = 12×(2,0) + (0,1) → 2×13D(12,1)`

### Pattern 4: Coordinate Selection
- ADD: "Each (x_i, y_i) bridge pair contributes x_i → Normal shadow, y_i → Mirror shadow"

---

## Implementation Strategy

### Phase 1: Priority 2-4 Files (HTML/MD/Simulation)
Deploy 4 parallel agents:
1. **HTML Pages Agent**: Update Pages/*.html
2. **Documentation Agent**: Update docs/**/*.md
3. **Simulation Agent 1**: Update simulations/v21/**/*.py (except already done)
4. **Simulation Agent 2**: Update simulations/derivations/**/*.py

### Phase 2: Regenerate AutoGenerated
```bash
python run_all_simulations.py --skip-guard
```

### Phase 3: Verification
1. All simulations pass
2. Grep shows no remaining legacy refs
3. Dimensional math verifies:
   - 12×2 + 1 = 25D ✓
   - 12 + 1 = 13D per shadow ✓
   - b₃ = 24 = 2×12 ✓

---

## Verification Checklist

- [ ] No (11,1) references in active code (legacy archives OK)
- [ ] No "shadows + (2,0)" patterns
- [ ] No "26D(24,1)" (should be 25D)
- [ ] All shadow refs show (12,1) or "13D(12,1)"
- [ ] Bridge described as "12×(2,0) warps to create shadows"
- [ ] OR reduction shows coordinate selection mechanism
- [ ] All simulations pass (66/66)

---

*Generated: 2026-01-19 | v22.1*
