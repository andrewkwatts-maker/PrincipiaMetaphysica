% ============================================
% HYPERREF SETUP FOR ACCESSIBLE LINKS
% ============================================
% For Principia Metaphysica APS submission
%
% This file configures hyperref for maximum accessibility:
% - Proper PDF metadata
% - Accessible link colors
% - Screen reader compatibility
% - Proper bookmarks
% ============================================

% ============================================
% HYPERREF PACKAGE CONFIGURATION
% ============================================

\usepackage[
  % Link appearance
  colorlinks=true,              % Use colored links (not boxes)
  linkcolor=blue,               % Internal links (sections, equations, figures)
  citecolor=blue,               % Citation links
  urlcolor=blue,                % External URLs
  filecolor=blue,               % File links

  % Link behavior
  breaklinks=true,              % Allow links to break across lines
  bookmarks=true,               % Generate PDF bookmarks
  bookmarksnumbered=true,       % Number bookmarks
  bookmarksopen=false,          % Don't expand bookmark tree by default

  % PDF metadata (update with your information)
  pdfauthor={Andrew Keith Watts},
  pdftitle={Principia Metaphysica: A Unified Framework from G2 Holonomy},
  pdfsubject={High Energy Physics - Phenomenology},
  pdfkeywords={G2 manifolds, M-theory, grand unification, extra dimensions, cosmology, dark energy, fermion masses, neutrino mixing, exceptional holonomy},
  pdfproducer={LaTeX with hyperref},
  pdfcreator={pdflatex},

  % Accessibility
  pdflang={en-US},              % Document language (American English)
  pdfstartview={FitH},          % Fit page width when opening
  pdfpagemode={UseOutlines},    % Show bookmarks panel when opening

  % Unicode support
  unicode=true,                 % Use Unicode for bookmarks
  pdfencoding=auto,             % Auto-detect encoding

  % Misc
  plainpages=false,             % Fix page numbering issues
  pdfpagelabels=true,           % Use page labels
  hypertexnames=true,           % Use guessable link names
]{hyperref}

% ============================================
% ADDITIONAL HYPERREF CUSTOMIZATION
% ============================================

% Set PDF display options
\hypersetup{
  pdfview=FitH,                 % Fit horizontal when following links
  pdfstartpage=1,               % Start on page 1
  pdfdisplaydoctitle=true,      % Show document title in viewer
  pdfpagelayout=OneColumn,      % Single column layout
}

% ============================================
% URL FORMATTING
% ============================================

% Use url package for proper URL line breaking
\usepackage{url}

% Configure URL breaking
\def\UrlBreaks{\do\/\do\-\do\_\do\.\do\=\do\?\do\&}  % Allow breaks at these characters

% URL font style (typewriter/monospace)
\urlstyle{tt}

% ============================================
% ACCESSIBLE LINK EXAMPLES
% ============================================
%
% GOOD EXAMPLES (descriptive link text):
%
% GitHub repository:
%   \href{https://github.com/andrewkwatts-maker/PrincipiaMetaphysica}{GitHub repository}
%   \url{https://github.com/andrewkwatts-maker/PrincipiaMetaphysica}
%
% arXiv preprint:
%   \href{https://arxiv.org/abs/2401.12345}{arXiv:2401.12345}
%
% DOI (use in bibliography):
%   \href{https://doi.org/10.1103/PhysRevD.100.123456}{doi:10.1103/PhysRevD.100.123456}
%
% Data source:
%   \href{https://pdg.lbl.gov}{Particle Data Group}
%   \href{https://www.cosmos.esa.int/web/planck}{Planck satellite data}
%
% Software:
%   \href{https://www.python.org}{Python}
%   \href{https://www.sagemath.org}{SageMath}
%
% ============================================
%
% BAD EXAMPLES (avoid these):
%
% Generic text:
%   Click \href{URL}{here}                    % BAD: "here" not descriptive
%   More info \href{URL}{at this link}        % BAD: "at this link" not descriptive
%   \href{URL}{link}                          % BAD: "link" not descriptive
%
% Bare URLs in text:
%   See https://github.com/...                % BAD: Use \url{} or \href{}
%   Visit www.example.com                     % BAD: Use \url{} or \href{}
%
% ============================================

% ============================================
% CITATION LINK HELPERS
% ============================================

% arXiv link helper (use in text, not bibliography)
\newcommand{\arxiv}[1]{\href{https://arxiv.org/abs/#1}{arXiv:#1}}

% DOI link helper (use in text, not bibliography)
\newcommand{\doi}[1]{\href{https://doi.org/#1}{doi:#1}}

% Usage examples:
%   Early work on G$_2$ manifolds \arxiv{hep-th/0012345} showed...
%   Recent measurements \doi{10.1103/PhysRevD.100.123456} indicate...

% ============================================
% INTERNAL REFERENCE HELPERS
% ============================================

% These ensure consistent formatting of internal references

% Equation reference with non-breaking space
\newcommand{\eqnref}[1]{Eq.~\eqref{#1}}
\newcommand{\eqnsref}[2]{Eqs.~\eqref{#1} and \eqref{#2}}

% Figure reference with non-breaking space
\newcommand{\figref}[1]{Fig.~\ref{#1}}
\newcommand{\figsref}[2]{Figs.~\ref{#1} and \ref{#2}}

% Table reference with non-breaking space
\newcommand{\tabref}[1]{Table~\ref{#1}}
\newcommand{\tabsref}[2]{Tables~\ref{#1} and \ref{#2}}

% Section reference with non-breaking space
\newcommand{\secref}[1]{Sec.~\ref{#1}}
\newcommand{\secsref}[2]{Secs.~\ref{#1} and \ref{#2}}

% Appendix reference
\newcommand{\appref}[1]{Appendix~\ref{#1}}

% Usage examples:
%   As shown in \figref{fig:dimensional-reduction}, the framework...
%   The generation count \eqnref{eq:generation-count} yields...
%   Details are provided in \appref{app:calculations}.

% ============================================
% BIBLIOGRAPHY LINK SETUP
% ============================================

% Use natbib for better citation handling (if not using REVTeX's built-in)
% Uncomment if needed:
% \usepackage[numbers,sort&compress]{natbib}

% BibTeX style configuration for REVTeX
% This ensures DOI and arXiv links appear in bibliography
% Add to your .bib file:
%
% @article{ExamplePaper,
%   author = {John Doe and Jane Smith},
%   title = {Example Paper},
%   journal = {Phys. Rev. D},
%   volume = {100},
%   pages = {123456},
%   year = {2020},
%   doi = {10.1103/PhysRevD.100.123456},
%   eprint = {1912.12345},
%   archivePrefix = {arXiv},
%   primaryClass = {hep-ph}
% }

% ============================================
% FOOTNOTE LINK SETUP
% ============================================

% Ensure footnotes have proper link colors
\renewcommand{\thefootnote}{\textcolor{blue}{\arabic{footnote}}}

% Footnote URL helper (for URLs in footnotes)
\newcommand{\fnurl}[1]{\footnote{\url{#1}}}

% Usage:
%   The code is available online.\fnurl{https://github.com/...}

% ============================================
% EXTERNAL RESOURCE LINKS
% ============================================
% Define common external links for consistency

% Data sources
\newcommand{\pdglink}{\href{https://pdg.lbl.gov}{Particle Data Group}}
\newcommand{\plancklink}{\href{https://www.cosmos.esa.int/web/planck}{Planck}}
\newcommand{\desilink}{\href{https://www.desi.lbl.gov}{DESI}}

% Software
\newcommand{\pythonlink}{\href{https://www.python.org}{Python}}
\newcommand{\sagemathlink}{\href{https://www.sagemath.org}{SageMath}}
\newcommand{\mathematicalink}{\href{https://www.wolfram.com/mathematica/}{Mathematica}}

% Archives
\newcommand{\inspireheplink}{\href{https://inspirehep.net}{INSPIRE-HEP}}
\newcommand{\arxivlink}{\href{https://arxiv.org}{arXiv}}

% GitHub (project-specific)
\newcommand{\pmgithub}{\href{https://github.com/andrewkwatts-maker/PrincipiaMetaphysica}{GitHub repository}}

% Usage example:
%   Experimental data from \pdglink~\cite{PDG2024} shows...
%   Our computational code is available in our \pmgithub.

% ============================================
% ACCESSIBILITY NOTES FOR LINKS
% ============================================
%
% 1. ALWAYS use descriptive link text
%    - Good: "GitHub repository", "arXiv:2401.12345", "Particle Data Group"
%    - Bad: "here", "click here", "this link"
%
% 2. Screen readers announce "link" before the text
%    - Don't write: "Click on the \href{URL}{link} to access..."
%    - Write: "Access the data from \href{URL}{Particle Data Group}..."
%
% 3. Link text should make sense out of context
%    - Users may navigate by links only
%    - "arXiv:2401.12345" better than "preprint"
%    - "GitHub repository" better than "code"
%
% 4. Use non-breaking spaces (~) before references
%    - Prevents awkward line breaks: "Fig. 1" vs "Fig.\n1"
%    - Always: Fig.~\ref{}, Eq.~\eqref{}, Sec.~\ref{}
%
% 5. Long URLs should use \url{} for automatic breaking
%    - \url{https://very-long-url.com/path/to/resource}
%    - Don't manually insert line breaks in URLs
%
% 6. DOIs and arXiv IDs in bibliography
%    - Include in .bib file, not manually in text
%    - Let BibTeX style handle formatting
%
% 7. Color contrast for links
%    - Blue (#0000FF) on white has 8.6:1 ratio (excellent)
%    - Meets WCAG AAA standard (7:1 required)
%    - Also distinguishable in grayscale (underlined)
%
% 8. External vs internal links
%    - Internal: blue (equations, figures, sections)
%    - External: blue (consistent with internal for APS)
%    - Alternative: external could be different color if desired
%
% ============================================

% ============================================
% PDF BOOKMARKS CUSTOMIZATION
% ============================================

% Bookmark package for advanced bookmark features
\usepackage{bookmark}

% Bookmark options
\bookmarksetup{
  numbered,                     % Number bookmarks
  open,                         % Open first level
  openlevel=1,                  % Open to section level
  color=blue,                   % Bookmark color
  startatroot,                  % Start at root level
}

% Add custom bookmark (if needed)
% \bookmark[page=1,level=0]{Title Page}

% ============================================
% TESTING CHECKLIST
% ============================================
%
% Before submission, verify:
%
% [ ] All links are blue and clickable in PDF
% [ ] Internal links (figures, equations, sections) work
% [ ] External links (URLs) open correctly
% [ ] Citation links work (if using hyperref with bibliography)
% [ ] PDF metadata appears correctly (File > Properties in Adobe Reader)
% [ ] PDF bookmarks generated (view in sidebar)
% [ ] Bookmarks numbered and organized hierarchically
% [ ] Document language set to English (for screen readers)
% [ ] No broken links (404 errors)
% [ ] Long URLs break properly across lines
% [ ] Link text is descriptive (no "click here")
% [ ] Links have sufficient color contrast
% [ ] Links remain accessible in grayscale/colorblind modes
%
% ============================================

% ============================================
% TROUBLESHOOTING
% ============================================
%
% Issue: Links not appearing in PDF
% Fix: Ensure hyperref loaded LAST (after most other packages)
%      Exception: cleveref must load after hyperref
%
% Issue: Bookmarks show LaTeX commands (e.g., $G_2$)
% Fix: Use \texorpdfstring{$G_2$}{G2} in section titles
%
% Issue: Warning "Token not allowed in a PDF string"
% Fix: Use \texorpdfstring{\command}{plain text}
%
% Issue: Page numbers wrong in bookmarks
% Fix: Ensure pdfpagelabels=true in hyperref options
%
% Issue: URL too long and doesn't break
% Fix: Use \url{} instead of \href{}{} for long URLs
%      Adjust \UrlBreaks to allow more break points
%
% Issue: Links wrong color
% Fix: Check linkcolor, citecolor, urlcolor in \hypersetup
%
% Issue: PDF metadata not showing
% Fix: Recompile with pdflatex (not latex->dvips->ps2pdf)
%
% ============================================

% ============================================
% ADVANCED: SECTION TITLE HELPERS
% ============================================

% For section titles with math that should appear differently in bookmarks
% Usage: \section{The \texorpdfstring{$G_2$}{G2} Manifold}

% Helper for common cases
\newcommand{\Gtwo}{\texorpdfstring{$G_2$}{G2}}
\newcommand{\Mtheory}{\texorpdfstring{$M$-theory}{M-theory}}

% Usage example:
%   \section{Dimensional Reduction in \Mtheory}
%   \section{The \Gtwo~Manifold Structure}

% ============================================
% CLEVEREF INTEGRATION (OPTIONAL)
% ============================================

% Cleveref provides automatic reference names
% Must be loaded AFTER hyperref
% Uncomment if using:

% \usepackage{cleveref}
%
% % Configure cleveref names
% \crefname{equation}{Eq.}{Eqs.}
% \Crefname{equation}{Equation}{Equations}
% \crefname{figure}{Fig.}{Figs.}
% \Crefname{figure}{Figure}{Figures}
% \crefname{table}{Table}{Tables}
% \Crefname{table}{Table}{Tables}
% \crefname{section}{Sec.}{Secs.}
% \Crefname{section}{Section}{Sections}
%
% % Usage:
% %   \cref{eq:generation-count}        -> "Eq. (1)"
% %   \Cref{fig:dimensional-reduction}  -> "Figure 1"
% %   \cref{eq:one,eq:two,eq:three}     -> "Eqs. (1), (2), and (3)"

% ============================================
% END OF HYPERREF SETUP
% ============================================

% ============================================
% USAGE IN MAIN DOCUMENT
% ============================================
%
% In your main .tex file preamble:
%
% \documentclass[reprint,aps,prd]{revtex4-2}
% % ... other packages ...
% \input{colorblind-setup.tex}
% \input{hyperref-setup.tex}     % Load near end, before \begin{document}
% % ... possibly cleveref after hyperref ...
%
% \begin{document}
% % Your content with accessible links
% \end{document}
%
% ============================================
